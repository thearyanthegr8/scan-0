import React from "react";
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
  SheetTrigger,
} from "@/components/ui/sheet";
import { Button } from "@/components/ui/button";
import { ScrollArea } from "../ui/scroll-area";
import {
  ArrowDown,
  ArrowLeft,
  ChevronLeft,
  ChevronRight,
  CircleAlert,
  Code,
  MoveDown,
  Package,
  PackageX,
  Route,
} from "lucide-react";
import {
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselNext,
  CarouselPrevious,
} from "@/components/ui/carousel";

function VulnerabilityDrawer() {
  return (
    <Sheet>
      <SheetTrigger className="underline text-cyan-600">
        Click to open drawer
      </SheetTrigger>
      <SheetContent className="xl:w-[1000px] xl:max-w-none sm:w-[400px] sm:max-w-[540px] p-0 bg-[#faf9fe] overflow-auto p-4">
        <SheetHeader className="mb-4">
          <SheetTitle className="flex gap-4 items-center">
            <CircleAlert size={30} />
            <div>
              <h1 className="text-2xl font-bold">CVE-2021-22112</h1>
              <h2 className="text-sm text-neutral-500">OSS Vulnerability</h2>
            </div>
          </SheetTitle>
        </SheetHeader>
        <section className="bg-white py-4 px-4 flex flex-col gap-8">
          <h2 className="text-xl font-medium">Vulnerability Information</h2>
          <div className="flex gap-8">
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">Severity</h4>
              <span className="p-[4px] bg-[#e79371] rounded text-sm font-bold text-white">
                8.8
              </span>
            </div>
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">
                Vulnerable Package
              </h4>
              <p>spring-security-corev 4.2.1.RELEASE</p>
            </div>
          </div>
          <div>
            <h4 className="text-sm text-neutral-500 font-medium">
              Description
            </h4>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla
              pretium vel mi quis lacinia. Sed ornare volutpat feugiat.
              Pellentesque sollicitudin odio magna, vel ultrices arcu dapibus
              in. Maecenas ac urna tempor, pellentesque sapien sed, ullamcorper
              lacus. Aliquam erat volutpat. Proin fringilla tristique velit et
              mollis. Nunc convallis ante in lectus tempus cursus. Integer
              hendrerit eu odio ut congue. Phasellus vel tempor dui. Donec
              gravida hendrerit metus vel pharetra. Nam imperdiet sapien vel
              interdum consequat. Sed id lacus nec ligula ultrices pretium in
              sed ex. Pellentesque habitant morbi tristique senectus et netus et
              malesuada fames ac turpis egestas. Fusce sed varius metus.
              Phasellus volutpat posuere lorem, nec blandit mauris scelerisque
              at. Nam molestie nulla massa, facilisis porta diam ullamcorper
              eget. Vivamus ut tellus pretium, tincidunt nibh eu, dignissim mi.
              Duis ut maximus lectus, a luctus metus. Ut at cursus risus. Sed
              rutrum nunc vel quam varius, id tristique sem hendrerit. Cras
              imperdiet mi urna, sed suscipit felis eleifend ut. Praesent vitae
              purus convallis felis blandit finibus in ac odio.
            </p>
          </div>
          <div className="flex gap-8">
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">
                Reference
              </h4>
              <a href="https://www.google.com">https://www.google.com</a>
            </div>
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">
                NVD Reference
              </h4>
              <a href="https://www.google.com">https://www.google.com</a>
            </div>
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">
                CVSS Score
              </h4>
              <p>8.8</p>
            </div>
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">
                Fix Version
              </h4>
              <p>5.2.9</p>
            </div>
          </div>
          <h2 className="text-xl font-medium">Application Context</h2>
          <div>
            <h4 className="text-sm text-neutral-500 font-medium">
              Introduced through (2):
            </h4>
            <p>
              org.springframework.boot/spring-boot-starter-security
              2.1.5.RELEASE
            </p>
          </div>
          <div>
            <h4 className="text-sm text-neutral-500 font-medium">
              Detailed Paths
            </h4>
            <span className="bg-[#f1e6e7] flex px-8 py-4 rounded-md items-center gap-4 text-sm font-medium">
              <Route size={18} color="#d55a99" />
              The vulnerable package is reachable in this service through 2
              paths
            </span>
          </div>
          <div className="flex flex-col gap-4">
            <div className="flex justify-between items-center">
              <span className="outline py-1 px-4 rounded-full outline-1 text-sm">
                Reachable Path
              </span>
              <div className="flex items-center gap-4">
                {/* <ChevronLeft size={18} /> */}
                <p className="text-sm font-medium">1 of 7</p>
                {/* <ChevronRight size={18} /> */}
              </div>
            </div>
            <Carousel className="mx-2 px-2 overflow-visible">
              <CarouselContent>
                {Array.from({ length: 3 }).map((_, index) => (
                  <CarouselItem className="flex flex-col gap-4" key={index}>
                    <div className="flex gap-4 items-center">
                      <Code
                        size={40}
                        className="p-3 outline rounded-full outline-1"
                      />
                      <div>
                        <h4 className="text-sm text-neutral-500 font-medium">
                          Service
                        </h4>
                        <p>java-sec-code</p>
                      </div>
                    </div>
                    <MoveDown size={20} className="ml-2" />
                    <div className="flex gap-4 items-center">
                      <Package
                        size={40}
                        className="p-3 outline rounded-full outline-1"
                      />
                      <div>
                        <h4 className="text-sm text-neutral-500 font-medium">
                          Direct Package
                        </h4>
                        <p>
                          org.springframework.security/spring-security-web
                          4.2.12.RELEASE
                        </p>
                      </div>
                    </div>
                    <MoveDown size={20} className="ml-2" />
                    <div className="flex gap-4 items-center">
                      <PackageX
                        size={40}
                        className="p-3 outline rounded-full outline-1"
                      />
                      <div>
                        <h4 className="text-sm text-neutral-500 font-medium">
                          Vulnerable Package
                        </h4>
                        <p>
                          org.springframework.security/spring-security-web
                          4.2.12.RELEASE
                        </p>
                      </div>
                    </div>
                  </CarouselItem>
                ))}
              </CarouselContent>
              <CarouselPrevious />
              <CarouselNext />
            </Carousel>
          </div>
          <div className="flex gap-8">
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">
                Development Dependency:
              </h4>
              <p>No</p>
            </div>
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">
                Affected Application:
              </h4>
              <p>Java-Sec</p>
              <div></div>
            </div>
            <div>
              <h4 className="text-sm text-neutral-500 font-medium">Direct:</h4>
              <p>No</p>
            </div>
          </div>
        </section>
      </SheetContent>
    </Sheet>
  );
}

export default VulnerabilityDrawer;
